(function(e,n){"object"===typeof exports&&"object"===typeof module?module.exports=n():"function"===typeof define&&define.amd?define([],n):"object"===typeof exports?exports["VueLazy"]=n():e["VueLazy"]=n()})("undefined"!==typeof self?self:this,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s="fb15")}({fb15:function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"observe",function(){return g}),t.d(r,"unobserve",function(){return m});var o,i={};(t.r(i),t.d(i,"observe",function(){return L}),t.d(i,"unobserve",function(){return R}),"undefined"!==typeof window)&&((o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(t.p=o[1]));var u=c(),f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function c(){return"undefined"!==typeof window&&"IntersectionObserverEntry"in window&&"intersectionRect"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRect.width>0||this.intersectionRect.height>0}}),!0)}function s(e,n,t){var r=new Image;r.src=e,r.onload=function(){n({src:r.src})},r.onerror=function(e){t(e)}}function a(e,n){var t=null,r=0;return function(){if(!t){var o=Date.now()-r,i=this,u=arguments,f=function(){r=Date.now(),t=!1,e.apply(i,u)};o>=n?f():t=setTimeout(f,n)}}}var d="undefined"!==typeof window,l=function(e,n){return"undefined"!==typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(n):e.style[n]},v=function(e){return l(e,"overflow")+l(e,"overflow-y")+l(e,"overflow-x")};function p(e){if(d){if(!(e instanceof HTMLElement))return window;var n=e;while(n){if(n===document.body||n===document.documentElement)break;if(!n.parentNode)break;if(/(scroll|auto)/.test(v(n)))return n;n=n.parentNode}return window}}function w(){if("undefined"!==typeof Map)return new Map;var e=[],n=[];this.get=function(t){var r=e.indexOf(t);return-1===r?null:n[r]},this.has=function(n){var t=e.indexOf(n);return-1!==t},this.set=function(t,r){var o=e.indexOf(t);-1===o?(e.push(t),n.push(r)):(e[o]=t,n[o]=r)},this.delete=function(t){var r=e.indexOf(t);if(-1===r)return!1;e.splice(r,1),n.splice(r,1)}}var b=!!u&&h(),y=new w;function h(){return new IntersectionObserver(function(e,n){e.forEach(function(e){e.isIntersecting&&y.get(e.target)()})})}var g=function(e,n){y.set(e,n),b.observe(e)},m=function(e){y.delete(e),b.unobserve(e)},A=1.3,O=200,E=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],x=new w,j=new w;function I(e){x.get(e).filter(function(e){return T(e)}).forEach(function(e){j.get(e)()})}function T(e){var n=e.getBoundingClientRect();return n.top<window.innerHeight*A&&n.bottom>0&&n.left<window.innerWidth*A&&n.right>0}function P(e,n){if(!x.has(e)){var t=[];t.eventFired=a(I.bind(this,e),O),x.set(e,t),E.forEach(function(n){return M(e,n,t.eventFired)})}var r=x.get(e);r.push(n),x.set(e,r)}function S(e,n){var t=x.get(e);if(!t)return!1;var r=t.indexOf(n);if(-1===r)return!1;t.splice(r,1),t.length>0?x.set(e,t):(E.forEach(function(n){return z(e,n,t.eventFired)}),x.delete(e))}function M(e,n,t){e.addEventListener(n,t,{passive:!0})}function z(e,n,t){e.removeEventListener(n,t)}var L=function(e,n){j.set(e,n),setTimeout(function(){var n=[p(e)];n[0]!==window&&n.push(window),n.forEach(function(n){P(n,e),setTimeout(function(){var e=x.get(n);e&&e.eventFired()})})},10)},R=function(e){j.delete(e);var n=[p(e)];n[0]!==window&&n.push(window),n.forEach(function(n){S(n,e)})},_=u?r:i;function B(){var e;(e=_).observe.apply(e,arguments)}function F(){var e;(e=_).unobserve.apply(e,arguments)}function k(e){if("custom"===e)_=i;else{if("intersection"!==e)throw new Error("[vue-lazy] Unknown observer name");_=r}}var C=new w,D=function(e,n){e.directive("lazy",{bind:V,update:V,componentUpdated:V,unbind:H})};function H(e,n,t){C.delete(e),F(e)}function V(e,n,t){var r={bindType:n.arg,src:null};U(e,r),r.src=n.value,C.set(e,r),B(e,function(){N(e)})}function N(e){var n=C.get(e);if(!n)return console.warn("[vue-lazy] Image had no data: ".concat(e)),!1;F(e),s(n.src,function(t){var r=t.src;n.src=r,U(e,n)},function(t){n.src=t.src,U(e,n)})}function U(e,n){if(!e)return!1;var t=n.src||f;n.bindType?e.style[n.bindType]='url("'+t+'")':e.getAttribute("src")!==t&&e.setAttribute("src",t)}var G={install:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===n.preferedObserver&&(n.preferedObserver=!1),n.preferedObserver&&k(n.preferedObserver),D(e,n)}};n["default"]=G}})["default"]});